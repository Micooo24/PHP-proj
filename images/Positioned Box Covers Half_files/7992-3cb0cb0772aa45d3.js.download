"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7992],{25952:function(e,t,n){n.d(t,{h:function(){return m},t:function(){return b}});var r=n(4337),i=n(35250),a=n(95182),s=n.n(a),o=n(1454),l=n(21389);function c(){var e=(0,r._)(["text-xs flex items-center justify-center gap-1"]);return c=function(){return e},e}function d(){var e=(0,r._)(["dark:text-white disabled:text-gray-300 dark:disabled:text-gray-400"]);return d=function(){return e},e}function u(){var e=(0,r._)(["flex-grow flex-shrink-0 tabular-nums"]);return u=function(){return e},e}function h(){var e=(0,r._)(["text-xs inline-flex bg-token-surface-secondary h-8 border rounded border-token-border-medium"]);return h=function(){return e},e}function x(){var e=(0,r._)(["text-token-text-secondary disabled:text-token-border-medium w-8 flex items-center justify-center hover:bg-token-surface-tertiary"]);return x=function(){return e},e}function f(){var e=(0,r._)(["text-token-text-tertiary px-2 flex items-center font-mono tracking-widest"]);return f=function(){return e},e}function m(e){var t=e.currentPage,n=e.onChangeIndex,r=e.length,a=e.className,l=function(e){n(s()(t+e,0,r-1))};return(0,i.jsxs)(g,{className:a,children:[(0,i.jsx)(p,{onClick:function(){return l(-1)},disabled:0===t,children:(0,i.jsx)(o.YFh,{className:"icon-xs"})}),(0,i.jsx)(v,{children:"".concat(t+1," / ").concat(r)}),(0,i.jsx)(p,{onClick:function(){return l(1)},disabled:t===r-1,children:(0,i.jsx)(o.Tfp,{className:"icon-xs"})})]})}var g=l.Z.div(c()),p=l.Z.button(d()),v=l.Z.span(u());function b(e){var t=e.currentPage,n=e.onChangeIndex,r=e.length,a=e.className,l=function(e){n(s()(t+e,0,r-1))};return(0,i.jsxs)(y,{className:a,children:[(0,i.jsx)(j,{onClick:function(){return l(-1)},disabled:0===t,children:(0,i.jsx)(o.YFh,{className:"icon-sm"})}),(0,i.jsx)(w,{children:"".concat(t+1,"/").concat(r)}),(0,i.jsx)(j,{onClick:function(){return l(1)},disabled:t===r-1,children:(0,i.jsx)(o.Tfp,{className:"icon-sm"})})]})}var y=l.Z.div(h()),j=l.Z.button(x()),w=l.Z.span(f())},31731:function(e,t,n){n.d(t,{m:function(){return s}});var r=n(35250),i=n(98359),a=n(70079);function s(e){var t=e.children;return(0,r.jsx)(i.u,{as:a.Fragment,enter:"transition ease-out duration-200",enterFrom:"opacity-0 translate-y-1",enterTo:"opacity-100 translate-y-0",leave:"transition ease-in duration-150",leaveFrom:"opacity-100 translate-y-0",leaveTo:"opacity-0 translate-y-1",children:t})}},50362:function(e,t,n){n.d(t,{D2:function(){return T},Vp:function(){return E},ZP:function(){return S},ze:function(){return D}});var r=n(39324),i=n(70216),a=n(10064),s=n(4337),o=n(35250),l=n(26563),c=n(98359),d=n(57526),u=n(19841),h=n(70079),x=n(99581),f=n(1454),m=n(21389),g=n(1491),p=n(13246),v=n(35265),b=n(23234),y=n(59904),j=n(42798);function w(){var e=(0,s._)(["rounded-lg bg-white ring-1 ring-black/10 dark:bg-gray-800 dark:ring-white/20 shadow-[0_1px_7px_0_rgba(0,0,0,0.03)]"]);return w=function(){return e},e}function k(){var e=(0,s._)(["absolute z-[17] mt-2 flex max-h-60 w-full flex-col overflow-hidden text-base focus:outline-none dark:last:border-0 sm:text-sm md:w-[100%] gizmo:min-w-[250px]"]);return k=function(){return e},e}function N(){var e=(0,s._)(["absolute z-[17] -ml-[1px] flex flex-col gap-2 p-3 sm:p-4"]);return N=function(){return e},e}function A(){var e=(0,s._)(["flex items-center gap-2 truncate"]);return A=function(){return e},e}function C(){var e=(0,s._)(["h-6 w-6 shrink-0"]);return C=function(){return e},e}function _(){var e=(0,s._)(["absolute inset-y-0 right-0 flex items-center pr-5 text-gray-800 dark:text-gray-100"]);return _=function(){return e},e}function M(){var e=(0,s._)(["absolute inset-y-0 right-0 flex items-center pr-3 text-gray-800 dark:text-gray-100"]);return M=function(){return e},e}var T=["confidential","alpha","plus"];function S(e){var t=e.selectedOptions,n=e.selectedLabel,a=e.onChange,s=e.onAction,c=e.onOpen,d=e.onClose,u=e.dropdownRef,x=(0,i._)(e,["selectedOptions","selectedLabel","onChange","onAction","onOpen","onClose","dropdownRef"]),f=(0,h.useCallback)(function(e){if(e.some(function(e){return"string"==typeof e})){var t=e.find(function(e){return"string"==typeof e});null==s||s(t)}else a(e)},[a,s]);return(0,o.jsx)(l.R,{value:t.map(function(e){return e.value}),multiple:!0,onChange:f,children:function(e){var i=e.open;return(0,o.jsx)(z,(0,r._)({ref:u,selectedLabel:n||"".concat(t.length," selected"),open:i,onOpen:c,onClose:d,multiple:!0},x))}})}var z=(0,h.forwardRef)(function(e,t){var n=e.name,r=e.selectedLabel,i=e.open,a=e.options,s=e.actions,m=e.multiple,w=e.isLoading,k=e.loadingState,N=e.header,A=e.onOpen,C=e.onClose,_=e.theme,M=(0,h.useRef)(null),T=(0,h.useRef)(null),S=(0,g.oc)(),z=(0,b.Ml)();(0,h.useImperativeHandle)(t,function(){return{open:function(){if(!i){var e;null===(e=M.current)||void 0===e||e.click()}},close:function(){if(i){var e;null===(e=M.current)||void 0===e||e.click()}}}},[i]);var D=w?k||(0,o.jsx)("div",{className:"flex h-[42px] items-center justify-center",children:(0,o.jsx)(j.Z,{})}):(0,o.jsxs)(o.Fragment,{children:[N,(0,o.jsxs)(l.R.Options,{className:"overflow-auto",children:[a.map(function(e,t){return(0,o.jsx)(I,{value:e.value,disabled:e.disabled,theme:_,children:function(t){var n=t.selected,r=t.active;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(F,{children:[e.imageUrl&&(0,o.jsx)(K,{children:(0,o.jsx)(p.Z,{url:e.imageUrl,name:e.title,size:"100%"})}),(0,o.jsxs)("span",{className:(0,u.default)(n&&!m&&"font-semibold","flex h-6 items-center gap-1 text-gray-800 dark:text-gray-100"),children:[e.title,e.tags.map(function(e){return E(e)}),e.customTags]})]}),m&&!e.disabled?(0,o.jsx)(G,{theme:_,selected:n}):n&&(0,o.jsx)(P,{theme:_,icon:"mini"===_?y.HQ:f.UgA}),e.disabled&&(0,o.jsx)(P,{theme:_,icon:d.Z,className:"text-red-700 dark:text-red-500"}),r&&S&&(0,x.createPortal)((0,o.jsx)(L,{option:e,dropdownRef:T}),document.body)]})}},t)}),null==s?void 0:s.map(function(e,t){return(0,o.jsx)(I,{value:e.id,theme:_,children:function(){return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{className:"text-gray-800 dark:text-gray-100",children:e.label}),(0,o.jsx)(P,{theme:_,icon:e.icon})]})}},t)})]})]});return(0,o.jsxs)("div",{className:"relative w-full gizmo:w-fit md:w-1/2 lg:w-1/3 xl:w-1/4",children:[(0,o.jsxs)(l.R.Button,{ref:M,onClick:i?C:A,className:(0,u.default)("relative flex cursor-pointer flex-col bg-white py-2 pr-10 text-left gizmo:text-[15px] gizmo:font-normal dark:bg-gray-800 sm:text-sm","mini"===_?"mx-auto w-auto rounded-lg border border-transparent pl-4 pr-7 hover:border-black/10 gizmo:border-black/10 gizmo:hover:border-black dark:hover:border-white/10 gizmo:dark:border-white/20 gizmo:dark:hover:border-white":"w-full rounded-md border border-black/10 pl-3 focus:border-green-600 focus:outline-none focus:ring-1 focus:ring-green-600 dark:border-white/20"),children:["mini"!==_&&(0,o.jsx)(l.R.Label,{className:"block text-xs text-gray-700 dark:text-gray-500",children:n}),(0,o.jsx)("span",{className:"inline-flex w-full truncate",children:(0,o.jsx)("span",{className:"flex h-6 items-center gap-1 truncate",children:r})}),(0,o.jsx)("span",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-2",children:z?(0,o.jsx)(v.ud,{}):(0,o.jsx)(f.bTu,{className:"icon-sm text-gray-400","aria-hidden":"true"})})]}),(0,o.jsx)(c.u,{show:i,as:h.Fragment,leave:"transition ease-in duration-100",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,o.jsx)(B,{ref:T,children:D})})]})});function I(e){var t=e.value,n=e.disabled,r=e.children,i=e.theme;return(0,o.jsx)(l.R.Option,{className:function(e){var t=e.active;return(0,u.default)("mini"===i?U:R,t&&!n?"bg-gray-100 dark:bg-gray-700":"text-gray-900",n&&"cursor-auto bg-gray-50 text-gray-400 dark:bg-gray-700 dark:text-gray-100")},value:t,children:r})}function P(e){var t=e.icon,n=e.className,r=e.theme;return(0,o.jsx)("mini"===r?V:H,{children:(0,o.jsx)(t,{className:(0,u.default)("icon-md",n),"aria-hidden":"true"})})}function G(e){var t=e.selected,n=e.disabled;if("mini"===e.theme){var r=(0,u.default)("h-5 w-5 text-blue-600",t?"stroke-[2.5]":"stroke-2");return(0,o.jsxs)(V,{children:[t?(0,o.jsx)(y.HQ,{className:r}):(0,o.jsx)(y.i9,{className:r}),!t&&(0,o.jsx)(y.nQ,{className:(0,u.default)("icon-md absolute text-blue-600 opacity-0 transition-opacity",!n&&"group-hover:opacity-100")})]})}return(0,o.jsx)(H,{children:(0,o.jsx)("div",{className:(0,u.default)("flex h-6 w-6 items-center justify-center rounded-full border transition-colors",t?"border-transparent bg-green-600 text-white":"border-black/5 dark:border-white/20"),"aria-hidden":"true",children:(0,o.jsx)(f.UgA,{className:(0,u.default)("h-3 w-3 transition-opacity",t&&"opacity-100",!t&&"opacity-0",!t&&!n&&"group-hover:opacity-50"),strokeWidth:t?2.5:2})})})}function D(e){var t=e.showCheckbox,n=e.theme;return(0,o.jsxs)("div",{className:(0,u.default)("mini"===n?U:R,"cursor-auto"),children:[(0,o.jsxs)(F,{children:[(0,o.jsx)(K,{children:(0,o.jsx)("div",{className:"h-full w-full rounded-sm bg-gray-200"})}),(0,o.jsx)("div",{className:"h-[12px] w-[88px] rounded-sm bg-gray-100"})]}),t&&(0,o.jsx)(G,{theme:n,selected:!1,disabled:!0})]})}function L(e){var t=e.option,n=e.dropdownRef,r=(0,a._)((0,h.useState)(),2),i=r[0],s=r[1];return((0,h.useEffect)(function(){var e=function(){if(n.current){var e=n.current.getBoundingClientRect();s({top:e.top,left:e.left-260,minHeight:e.height})}};return e(),window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}},[n]),i)?(0,o.jsxs)(O,{style:{width:260,minHeight:i.minHeight,top:i.top,left:i.left},children:[t.disabled&&(0,o.jsx)(d.Z,{className:"icon-lg text-red-700 dark:text-red-500"}),t.imageUrl&&(0,o.jsx)(p.Z,{url:t.imageUrl,name:t.title,size:70}),(0,o.jsxs)("div",{className:"flex items-center gap-1",children:[t.title," ",t.tags.map(function(e){return E(e)})," ",t.customTags]}),(0,o.jsx)("div",{className:"whitespace-pre-line text-xs",children:t.description})]}):null}var E=function(e){return T.includes(e)&&(0,o.jsx)("span",{className:(0,u.default)("py-0.25 rounded px-1 text-[10px] font-semibold uppercase","confidential"===e&&"bg-red-200 text-red-800","alpha"===e&&"bg-blue-200 text-blue-500","plus"===e&&"bg-yellow-200 text-yellow-900"),children:e},e)},Z=m.Z.div(w()),B=(0,m.Z)(Z)(k()),O=(0,m.Z)(Z)(N()),U="group relative flex h-[50px] cursor-pointer select-none items-center overflow-hidden border-b border-black/10 pl-5 pr-12 last:border-0 dark:border-white/20",R="group relative flex h-[42px] cursor-pointer select-none items-center overflow-hidden border-b border-black/10 pl-3 pr-9 last:border-0 dark:border-white/20",F=m.Z.span(A()),K=m.Z.span(C()),V=m.Z.span(_()),H=m.Z.span(M())},61802:function(e,t,n){n.d(t,{B:function(){return eG}});var r=n(39324),i=n(10064),a=n(4337),s=n(35250),o=n(32148),l=n(33554),c=n(44539),d=n(77421),u=n(62853),h=n(97296),x=n(10721),f=n(70079),m=n(70671),g=n(32004),p=n(94968),v=n(40803),b=n(62682),y=n(51505),j=n(55548),w=n(17944),k=n(25687),N=n(13246),A=n(94705),C=n(7184),_=n(6013),M=function(e){var t=e.children,n=e.contentClassName,r=e.content,a=e.side,o=e.sideOffset,l=(0,i._)((0,f.useState)(void 0),2),c=l[0],d=l[1],u=function(){d(!0)},h=function(){d(void 0)};return(0,s.jsxs)(_.fC,{open:c,onOpenChange:function(e){d(!0===e||void 0)},children:[(0,s.jsx)(_.xz,{asChild:!0,onMouseEnter:u,onMouseLeave:h,children:t}),(0,s.jsx)(_.h_,{children:(0,s.jsx)(_.VY,{onMouseEnter:u,onMouseLeave:h,side:a,sideOffset:o,collisionPadding:16,className:n,onOpenAutoFocus:function(e){e.preventDefault()},onCloseAutoFocus:function(e){e.preventDefault()},children:r})})]})},T=n(59904),S=n(86585),z=n(50362),I=n(47478),P=n(1454),G=n(18481),D=n(47428),L=n(88903),E=n(39368),Z=n(70496);function B(e){var t=e.icon,n=e.label,r=e.onSelect;return(0,s.jsxs)(D.ck,{onSelect:r,className:"flex cursor-pointer select-none items-center gap-3 px-4 py-2 text-sm text-token-text-secondary outline-none radix-highlighted:bg-gray-50 dark:radix-highlighted:bg-gray-700",children:[(0,s.jsx)(t,{className:"icon-sm"}),(0,s.jsx)("span",{children:n})]})}function O(e){var t=e.conversationTemplate,n=(0,w.ec)(w.F_.accountUserId),r=t.owner_id===n,i=(0,x.useRouter)(),a=(0,w.hz)().has("debug"),o=(0,G.xj)(t.id);return(0,s.jsxs)(D.fC,{children:[(0,s.jsx)(D.xz,{asChild:!0,children:(0,s.jsxs)("button",{className:"flex min-w-[256px] items-center gap-4 overflow-hidden rounded p-2 text-left hover:bg-gray-50 radix-state-open:bg-gray-50 dark:hover:bg-gray-700 dark:radix-state-open:bg-gray-700 lg:-ml-2",children:[(0,s.jsx)(L.Py,{conversationTemplate:t}),(0,s.jsxs)("div",{className:"grow",children:[(0,s.jsx)("div",{className:"text-sm font-medium text-token-text-primary",children:t.name}),(0,s.jsxs)("div",{className:"flex items-center gap-1 text-xs text-token-text-tertiary",children:[(0,s.jsxs)("span",{children:["Template by ",t.author_name]}),null!=t.published_at?null!=t.description?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{children:"•"}),(0,s.jsx)("span",{className:"max-w-[160px] overflow-hidden overflow-ellipsis whitespace-nowrap",children:t.description})]}):null:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{children:"•"}),(0,s.jsx)("span",{children:"Private"})]})]})]}),(0,s.jsx)(P.bTu,{className:"icon-sm text-token-text-tertiary"})]})}),(0,s.jsx)(D.Uv,{children:(0,s.jsxs)(D.VY,{className:"min-w-[256px] max-w-[320px] rounded-md border border-gray-100 bg-white shadow-lg dark:border-gray-700 dark:bg-gray-800",align:"start",side:"bottom",sideOffset:4,children:[(0,s.jsxs)(D.__,{className:"border-b border-gray-200 p-4 dark:border-gray-700",children:[(0,s.jsx)("div",{className:"text-sm font-medium text-token-text-primary",children:t.name}),(0,s.jsx)("div",{className:"mt-1 flex items-center gap-1 text-xs text-token-text-tertiary",children:null!=t.published_at?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(P._rq,{className:"icon-xs"}),(0,s.jsx)("span",{children:"Published in workspace"})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(P.UIZ,{className:"icon-xs"}),(0,s.jsxs)("span",{children:["Private",r&&(0,s.jsx)("span",{children:" (Only visible to you)"})]})]})}),null!=t.published_at&&null!=t.description&&(0,s.jsx)("div",{className:"mt-1 text-xs text-token-text-secondary line-clamp-3",children:t.description})]}),(0,s.jsxs)(D.ZA,{className:"py-1",children:[(0,s.jsx)(B,{icon:P.IC0,label:"New chat with this template",onSelect:function(){i.push((0,E.l1)(t.id),void 0,{shallow:!0})}}),r?(0,s.jsx)(B,{icon:P.IYd,label:"Edit template",onSelect:function(){i.push(o,void 0,{shallow:!0})}}):(0,s.jsx)(B,{icon:P.rDJ,label:"See how it's made",onSelect:function(){(0,Z.O)(t.id)}}),a&&(0,s.jsx)(B,{icon:P.cDN,label:"Debug",onSelect:function(){return j.vm.toggleActiveSidebar("debug")}})]})]})})]})}function U(e){var t=e.workspaceId,n=e.conversationTemplateId,r=(0,E.GS)(t,n,{includeDeleted:!0}).data;return(0,s.jsx)("div",{className:"flex min-h-[60px] justify-center border-b border-gray-100 dark:border-gray-700",children:(0,s.jsx)("div",{className:"flex w-full items-center px-2 md:max-w-2xl lg:max-w-[38rem] lg:px-0 xl:max-w-3xl",children:null!=r?(0,s.jsx)(O,{conversationTemplate:r}):null})})}var R=n(74329),F=n(15635),K=n(71209),V=n(70216),H=n(23211),Q=n(21950),Y=n(35265),W=n(48133),J=n(10943),X=n(80275),q=n(59517),$=n(97631),ee=n(10499),et=n(28924),en=n(1491),er=n(54636),ei=n(42780),ea=n(19841),es=n(46266),eo=n(21722),el=n(64502),ec=n(38104),ed=n(30769);function eu(e){var t=e.className,n=(0,V._)(e,["className"]);return(0,s.jsx)("textarea",(0,r._)({className:(0,ea.default)("form-textarea w-full rounded-lg border border-token-border-light bg-token-surface-secondary text-sm text-token-text-primary focus:border-token-text-primary focus:shadow-none focus:outline-none focus:ring-token-text-primary",t)},n))}var eh=n(61236);function ex(e){var t=e.reasons,n=e.onSelectReason;return(0,s.jsx)("div",{className:"divide-y overflow-hidden rounded-md border border-token-border-medium",children:t.map(function(e){return(0,s.jsx)("button",{onClick:function(){n(e)},className:"w-full border-token-border-medium p-2 text-left text-sm hover:bg-token-surface-secondary",children:e.cta},e.id)})})}function ef(e){var t=e.reason,n=e.submitReport,r=(0,i._)((0,f.useState)(""),2),a=r[0],o=r[1],l=(0,i._)((0,f.useState)(!1),2),c=l[0],d=l[1];return(0,s.jsxs)("div",{children:[(0,s.jsx)(eu,{value:a,onChange:function(e){return o(e.target.value)},placeholder:t.details_placeholder,autoFocus:!0}),(0,s.jsx)("div",{className:"mt-1 flex justify-end",children:(0,s.jsx)(W.z,{onClick:function(){try{d(!0),n(t.id,a)}finally{d(!1)}},disabled:c,children:"Submit report"})})]})}function em(e){var t=e.reason;return(0,s.jsxs)("div",{className:"text-sm",children:[(0,s.jsx)("div",{className:"mb-2",children:t.link_explanation}),(0,s.jsx)("div",{children:(0,s.jsx)("a",{href:t.link_attachment,target:"_blank",rel:"noreferrer",className:"break-words underline",children:t.link_attachment})})]})}function eg(e){var t,n,r=e.gizmoId,a=(0,eh.a)({queryKey:["gizmoReportReasons"],queryFn:function(){return ed.U.getGizmoReportReasons()}}).data,o=(0,i._)((0,f.useState)([]),2),l=o[0],c=o[1],d=(0,i._)((0,f.useState)(!1),2),u=d[0],h=d[1];if(null==a)return null;var x=a.reasons,m=!0,g=!1,p=void 0;try{for(var v,b,y=l[Symbol.iterator]();!(m=(b=y.next()).done);m=!0)!function(){var e=b.value;x=(v=x.find(function(t){return t.id===e})).sub_reasons}()}catch(e){g=!0,p=e}finally{try{m||null==y.return||y.return()}finally{if(g)throw p}}function j(e,t){return w.apply(this,arguments)}function w(){return(w=(0,eo._)(function(e,t){return(0,ec.Jh)(this,function(n){switch(n.label){case 0:return[4,ed.U.postGizmoReport(r,{id:e,details:t})];case 1:return n.sent(),h(!0),[2]}})})).apply(this,arguments)}return u?(0,s.jsx)("div",{children:(0,s.jsx)("div",{className:"pb-4 text-sm",children:"You report has been submitted. Thank you."})}):(n=(null==v?void 0:v.details_placeholder)!=null?(0,s.jsx)(ef,{reason:v,submitReport:j}):(null==v?void 0:v.link_attachment)!=null?(0,s.jsx)(em,{reason:v}):(0,s.jsx)(ex,{reasons:x,onSelectReason:(t=(0,eo._)(function(e){return(0,ec.Jh)(this,function(t){return 0===e.sub_reasons.length&&null==e.details_placeholder&&null==e.link_attachment?j(e.id):c(function(t){return(0,el._)(t).concat([e.id])}),[2]})}),function(e){return t.apply(this,arguments)})}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("div",{className:"text-sm font-medium",children:a.header}),(0,s.jsx)("div",{className:"text-sm text-token-text-secondary",children:a.header_explanation})]}),null!=v?(0,s.jsx)("div",{className:"mb-2 flex gap-1 text-sm",children:(0,s.jsxs)("button",{onClick:function(){c(function(e){return e.slice(0,-1)})},className:"flex items-center gap-2 p-1",children:[(0,s.jsx)(P.YFh,{}),(0,s.jsx)("div",{children:v.cta})]})}):null,n]}))}function ep(e){var t=e.gizmoId,n=e.onClose,r=(0,Q.b9)(t).data;return(0,s.jsx)(C.Z,{title:null!=r?"Report ".concat(r.name):"Report",isOpen:!0,onClose:n,closeButton:(0,s.jsx)(A.ZP.CloseButton,{onClose:n}),type:"success",children:(0,s.jsx)(eg,{gizmoId:t})})}var ev=function(e){var t=e.clientThreadId,n=(0,w.hz)().has("debug"),r=y.tQ.getServerThreadId(t);return(0,s.jsxs)("div",{className:"flex gap-2 pr-1",children:[r&&(0,s.jsx)(J.y4,{onClick:function(){return j.vm.openSharingModal(r)},children:(0,s.jsx)(Y.Gp,{className:"icon-md"})}),n&&(0,s.jsx)(J.y4,{onClick:function(){return j.vm.toggleActiveSidebar("debug")},children:(0,s.jsx)(Y.WP,{className:"icon-md"})})]})};function eb(e){var t,n=e.clientThreadId,r=e.gizmoId,a=(0,j.tN)(function(e){return e.isDesktopNavCollapsed}),o=(0,en.w$)(),l=(0,x.useRouter)(),c=(0,Q.b9)(r).data,d=(0,i._)((0,f.useState)(!1),2),u=d[0],h=d[1];return null==c?null:(0,s.jsxs)(J.QT,{children:[u&&(0,s.jsx)(ep,{gizmoId:r,onClose:function(){h(!1)}}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[o&&a&&(0,s.jsx)(J.y4,{className:"ml-2",onClick:function(){l.push(null!=c?(0,Q.m_)(c):"/",void 0,{shallow:!0})},children:(0,s.jsx)(Y.ks,{className:"icon-md text-black dark:text-white"})}),(0,s.jsx)(es.Z,{gizmoTemplate:c,showReportModal:function(){h(!0)},children:(0,s.jsxs)("div",{className:eC,children:[c.name,(null===(t=c.config.tags)||void 0===t?void 0:t.includes(X.U9.Beta))&&(0,s.jsx)("div",{className:"rounded-full bg-gray-100 px-1.5 text-xs text-token-text-primary dark:bg-gray-900",children:"Beta"}),(0,s.jsx)(e_,{})]})})]}),(0,s.jsx)(ev,{clientThreadId:n})]})}var ey="Internal";function ej(e){var t,n,i,a,o=e.currentModelConfig,l=e.clientThreadId,c=(0,x.useRouter)(),d=!y.tQ.getServerThreadId(l),u=(0,et.ZP)(),h=null==o?void 0:o.id,m=u.find(function(e){return e.categoryId===et.ft.GPT4}),p=u.find(function(e){return e.categoryId===et.ft.GPT3_5}),v=u.find(function(e){return e.categoryId===et.ft.OTHER}),b=u.find(function(e){return e.categoryId===et.ft.EXPERIMENTS}),k=h===(null==m?void 0:m.value)?et.ft.GPT4:h===(null==p?void 0:p.value)?et.ft.GPT3_5:(null==v?void 0:v.options.find(function(e){return e.value===h}))!=null?et.ft.OTHER:(null==b?void 0:b.options.find(function(e){return e.value===h}))!=null?et.ft.EXPERIMENTS:null,N=(0,w.m0)(),A=(null==v?void 0:null===(t=v.options)||void 0===t?void 0:t.length)&&v.options.length>0,C=(null==b?void 0:null===(n=b.options)||void 0===n?void 0:n.length)&&b.options.length>0,_=k===et.ft.GPT4?"4":k===et.ft.GPT3_5?"3.5":k===et.ft.OTHER?null!==(i=null==v?void 0:v.name)&&void 0!==i?i:ey:k===et.ft.EXPERIMENTS&&null!==(a=null==b?void 0:b.name)&&void 0!==a?a:ey,M=function(e){return(0,s.jsx)("div",{className:"flex shrink-0 grow justify-between gap-2",children:(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(Y.Gi,{className:"icon-md"}),e," Models"]})})},T=(0,j.tN)(function(e){return e.isDesktopNavCollapsed}),S=(0,en.w$)(),z=(0,q.tS)(function(e){return{setShowAccountPaymentModal:e.setShowAccountPaymentModal,showAccountPaymentModal:e.showAccountPaymentModal}}).setShowAccountPaymentModal,I=(0,f.useCallback)(function(){er.A.logEvent(ei.M.openModalAccountPaymentfromModelPicker,{content:"gizmo-button"}),z(!0)},[z]);return(0,s.jsxs)(J.QT,{children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[S&&T&&(0,s.jsx)(J.y4,{className:"ml-2",onClick:function(){c.push("/",void 0,{shallow:!0})},children:(0,s.jsx)(Y.ks,{className:"text-black dark:text-white"})}),(0,s.jsxs)(D.fC,{children:[(0,s.jsx)(D.xz,{asChild:!0,children:(0,s.jsxs)("div",{className:eC,title:k===et.ft.EXPERIMENTS||k===et.ft.OTHER?o.title:void 0,children:[(0,s.jsxs)("div",{children:[H.D," ",(0,s.jsx)("span",{className:"text-token-text-secondary",children:_})]}),(0,s.jsx)(e_,{})]})}),(0,s.jsx)(D.Uv,{children:(0,s.jsxs)(D.VY,{className:"mt-2 min-w-[340px] max-w-xs overflow-hidden rounded-lg border border-gray-100 bg-token-surface-primary shadow-lg dark:border-gray-700",align:"start",children:[m&&(0,s.jsx)(eN,{value:m.value,name:(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(Y.HV,{className:"icon-md shrink-0"}),(0,s.jsxs)("div",{children:["GPT-4",(0,s.jsx)("div",{className:"text-token-text-tertiary",children:(0,s.jsx)(g.Z,(0,r._)({},eM.gpt4ShortExplainer))})]})]})}),isSelected:h===m.value,isNewThread:d}),p&&(0,s.jsx)(eN,{value:p.value,name:(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(Y.PK,{className:"icon-md"}),(0,s.jsxs)("div",{children:["GPT-3.5",(0,s.jsx)("div",{className:"text-token-text-tertiary",children:(0,s.jsx)(g.Z,(0,r._)({},eM.gpt35ShortExplainer))})]})]}),isSelected:h===p.value,isNewThread:d}),!N&&!m&&(0,s.jsx)(eN,{value:"",onClick:function(){I()},name:(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(Y.HV,{className:"icon-md shrink-0"}),(0,s.jsxs)("div",{children:["GPT-4",(0,s.jsxs)("div",{className:"text-token-text-tertiary",children:[(0,s.jsx)(g.Z,(0,r._)({},eM.gpt4UpsellExplainer)),(0,s.jsx)("div",{className:"mt-2",children:(0,s.jsx)(W.z,{onClick:function(){I()},color:"primary",className:"w-full !bg-brand-purple py-3 text-xs hover:bg-brand-purple hover:brightness-90",children:(0,s.jsx)(g.Z,(0,r._)({},eM.userUpgrade))})})]})]})]}),isSelected:!1,isNewThread:!0}),(null!=A?A:C)&&(0,s.jsx)(J.Cl,{}),d&&A?(0,s.jsxs)(D.Tr,{children:[(0,s.jsx)(eA,{children:(0,s.jsxs)("div",{className:"flex grow justify-between gap-2 overflow-hidden",children:[M(v.name),k===et.ft.OTHER&&(0,s.jsx)("div",{className:"truncate text-token-text-tertiary",children:o.title})]})}),(0,s.jsx)(ew,{currentModel:o,categoryOptions:v.options})]}):null,d&&C?(0,s.jsxs)(D.Tr,{children:[(0,s.jsx)(eA,{children:(0,s.jsxs)("div",{className:"flex grow justify-between gap-2 overflow-hidden",children:[M(b.name),k===et.ft.EXPERIMENTS&&(0,s.jsx)("div",{className:"truncate text-token-text-tertiary",children:o.title})]})}),(0,s.jsx)(ew,{currentModel:o,categoryOptions:b.options})]}):null]})})]})]}),(0,s.jsx)(ev,{clientThreadId:l})]})}function ew(e){var t=e.currentModel,n=e.categoryOptions,r=null==t?void 0:t.id;return(0,s.jsx)(D.Uv,{children:(0,s.jsx)(D.tu,{className:"mt-2 max-h-[calc(100vh-300px)] min-w-[100px] max-w-xs overflow-auto rounded-lg border border-gray-100 bg-token-surface-primary py-1.5 shadow-lg dark:border-gray-700",sideOffset:-10,alignOffset:-10,children:n.map(function(e){return(0,s.jsx)(ek,{option:e,isSelected:r===e.value},e.value)})})})}function ek(e){var t=e.option,n=e.isSelected;return(0,s.jsx)(eN,{isSelected:n,value:t.value,name:t.name})}function eN(e){var t=e.value,n=e.name,r=e.isSelected,i=e.isNewThread,a=void 0===i||i,o=e.onClick,l=(0,ee.fm)(!a),c=(0,$.xT)();return(0,s.jsx)(J.UA,{onClick:function(){o?o():t&&(l(t),c(t))},className:(0,ea.default)("!pr-3",r&&"!opacity-100"),children:(0,s.jsxs)("div",{className:"flex grow items-center justify-between gap-2",children:[(0,s.jsx)("div",{children:n}),r&&(0,s.jsx)(Y.p9,{className:(0,ea.default)("icon-md",!a&&"block group-hover:hidden")}),!a&&(0,s.jsxs)("div",{className:"hidden gap-2 opacity-70 group-hover:flex",children:[(0,s.jsx)("div",{className:"absolute right-12",children:"New Chat"})," ",(0,s.jsx)(Y.ks,{className:"icon-md"})]})]})},t)}var eA=function(e){var t=e.children,n=e.className,i=(0,V._)(e,["children","className"]);return(0,s.jsxs)(J.tc,(0,K._)((0,r._)({$as:D.fF,className:(0,ea.default)("!gap-1 !pr-3 radix-state-open:bg-token-border-light",n)},i),{children:[t,(0,s.jsx)("div",{className:"ml-auto flex items-center text-token-text-tertiary group-data-[disabled]:opacity-50",children:(0,s.jsx)(P.Tfp,{className:"icon-md "})})]}))},eC="group flex cursor-pointer items-center gap-1 rounded-xl py-2 px-3 text-lg font-medium hover:bg-gray-50 radix-state-open:bg-gray-50 dark:hover:bg-black/10 dark:radix-state-open:bg-black/20",e_=function(){return(0,s.jsx)(Y.ud,{className:"text-token-text-tertiary"})},eM=(0,p.vU)({gpt35ShortExplainer:{defaultMessage:"Great for everyday tasks",id:"ModelSwitcher.gpt35ShortExplainer",description:"Short description of GPT-3.5"},gpt4ShortExplainer:{defaultMessage:"With DALL\xb7E, browsing and analysis",id:"ModelSwitcher.gpt4ShortExplainer",description:"Short description of GPT-4"},gpt4UpsellExplainer:{id:"ModelSwitcher.gpt4Upsell",defaultMessage:"Our smartest and most capable model. Includes DALL\xb7E, browsing and more.",description:"Description of what new capabilities GPT4 providers"},userUpgrade:{id:"ModelSwithcer.upgradeButton",defaultMessage:"Upgrade to Plus",description:"Upgrade CTA for free users"}}),eT=n(23234),eS=n(11547);function ez(){var e=(0,a._)(["translateY(",")"]);return ez=function(){return e},e}var eI=[0,60],eP=function(e){var t=e.clientThreadId,n=(0,m.Z)(),r=null!==(0,f.useContext)(k.gB),i=(0,w.hz)(),a=y.tQ.getServerThreadId(t),o=(!(0,w.ec)(w.F_.isBusinessWorkspace)||i.has(b.L0.WorkspaceShareLinks))&&i.has(b.RJ);return!r&&void 0!==a&&o?(0,s.jsx)(F.u,{side:"left",label:n.formatMessage(eZ.shareChat),children:(0,s.jsx)(R.O,{onClick:function(){return j.vm.openSharingModal(a)},"aria-label":n.formatMessage(eZ.shareChat),children:(0,s.jsx)(P.A8q,{className:"icon-sm"})})}):null};function eG(e){var t=e.currentModelConfig,n=e.clientThreadId,r=e.gizmoId,i=e.icon,a=(0,y.UL)(n),o=(0,w.ec)(function(e){var t;return null===(t=e.currentWorkspace)||void 0===t?void 0:t.id}),l=(0,eT.Ml)();if(null!==(0,f.useContext)(k.gB))return null;if(l){var c,d=null!==(c=a.conversationTemplateId)&&void 0!==c?c:r;return null==d?(0,s.jsx)(ej,{currentModelConfig:t,clientThreadId:n}):(0,s.jsx)(eb,{gizmoId:d,clientThreadId:n})}return(0,s.jsx)(eD,{children:null!=o&&null!=a.conversationTemplateId?(0,s.jsx)(U,{clientThreadId:n,workspaceId:o,conversationTemplateId:a.conversationTemplateId}):(0,s.jsx)(eL,{currentModelConfig:t,clientThreadId:n,icon:i})})}function eD(e){var t=e.children,n=(0,j.tN)(j.bM.isThreadHeaderVisible),r=(0,l.c)(0),a=(0,f.useRef)(null),o=(0,f.useRef)(null),x=(0,i._)((0,v.useAtTop)(),1)[0],m=(0,f.useCallback)(function(e){var t=e.scrollTop;if(null==a.current||a.current===t){a.current=t;return}if(o.current=a.current,a.current=t,o.current>a.current){j.vm.showThreadHeader();var n=Math.max(eI[0],r.get()-Math.abs(o.current-a.current));n!==r.get()&&r.set(n)}else{var i=Math.min(eI[1],r.get()+Math.abs(o.current-a.current));i!==r.get()&&r.set(i)}},[r]),g=(0,c.H)(r,eI,["0%","-100%"]),p=(0,i._)((0,f.useState)(g.get()),2),b=(p[0],p[1]);(0,d.W)(g,"change",function(e){b(e)});var y=(0,u.Y)(ez(),g);(0,f.useEffect)(function(){j.vm.showThreadHeader()},[]);var w=null!==(0,f.useContext)(k.gB);return(0,v.useObserveScrollPosition)(w?void 0:m),(0,s.jsx)(h.E.header,{animate:n?void 0:{top:n?0:"-90px",transition:{duration:.2,ease:"easeIn"}},style:{boxShadow:!x&&n?"0px 4px 24px 0px #0000000D":void 0,transform:n?y:void 0},className:"sticky top-0 z-10 w-full bg-white dark:bg-gray-800",children:t})}function eL(e){var t,n,i,a=e.currentModelConfig,o=e.clientThreadId,l=e.icon,c=(0,m.Z)(),d=null!==(0,f.useContext)(k.gB),u=(0,j.tN)(function(e){return"debug"===e.activeSidebar}),h=(0,w.hz)(),p=h.has("debug")&&!u,v=[];p&&v.push((0,s.jsx)(F.u,{side:"left",label:c.formatMessage(eZ.openDebug),children:(0,s.jsx)(R.O,{onClick:function(){return j.vm.toggleActiveSidebar("debug")},"aria-label":c.formatMessage(eZ.openDebug),children:(0,s.jsx)(P.cDN,{className:"icon-sm"})})})),v.push((0,s.jsx)(eP,{clientThreadId:o}));var _=(0,y.Qi)(o),M=null!=_,T=M&&null==_.aboutModelMessage&&null==_.aboutUserMessage&&null!==_.shareId,G=h.has(b.b5),D=(0,y.Ro)(o);void 0===D&&(D=a);var L=D.tags.filter(function(e){return z.D2.includes(e)}).map(function(e){return(0,z.Vp)(e)}),E=d?D.title:a.title,Z=(0,S.i)(o);if(Z.length>0){var B=Z.map(function(e,t){return(0,s.jsx)(N.Z,{url:e.manifest.logo_url,name:e.manifest.name_for_human,size:16},t)});i=(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{children:(0,s.jsx)(g.Z,(0,r._)({},eZ.enabledPlugins))}),B]})}var O=(0,x.useRouter)(),U=d&&(null===(t=O.query)||void 0===t?void 0:null===(n=t.shareParams)||void 0===n?void 0:n[1])==="moderate",K=(0,j.tN)(function(e){return e.activeModals.has(j.B.DownloadMessages)}),V=y.tQ.getThreadCurrentLeafId(o),H=(0,y.u9)(o,V),Q=(0,f.useCallback)(function(){G&&(0,I.Ub)(o,H)},[o,G,H]);return(0,s.jsxs)(s.Fragment,{children:[G&&(0,s.jsx)(C.Z,{type:"success",isOpen:K,onClose:function(){j.vm.closeModal(j.B.DownloadMessages)},closeButton:(0,s.jsx)(A.ZP.CloseButton,{onClose:function(){j.vm.closeModal(j.B.DownloadMessages)}}),primaryButton:(0,s.jsx)(A.ZP.Button,{onClick:Q,children:(0,s.jsx)(g.Z,(0,r._)({},eZ.downloadButton))}),title:c.formatMessage(eZ.downloadChatDebugInfo),secondaryButton:(0,s.jsx)(A.ZP.Button,{onClick:function(){j.vm.closeModal(j.B.DownloadMessages)},children:(0,s.jsx)(g.Z,(0,r._)({},eZ.cancelButton))})}),(0,s.jsxs)("div",{className:"relative z-20 flex min-h-[60px] flex-wrap items-center justify-between gap-3 border-b border-black/10 bg-white p-2 text-gray-500 dark:border-gray-900/50 dark:bg-gray-800 dark:text-gray-300",onClick:function(e){G&&!d&&3===e.detail&&j.vm.openModal(j.B.DownloadMessages)},children:[(0,s.jsx)("div",{className:"hidden flex-shrink flex-row sm:flex",children:v.map(function(e,t){return(0,s.jsx)(R.h,{},t)})}),(0,s.jsxs)("div",{className:"flex flex-1 flex-grow items-center gap-1 px-2 py-1 text-gray-600 dark:text-gray-200 sm:justify-center sm:p-0",children:[d&&(0,s.jsxs)("div",{className:"flex items-center justify-center gap-1",children:[(0,s.jsx)("span",{children:(0,s.jsx)(g.Z,(0,r._)({},eZ.sharedChat))}),(0,s.jsx)("span",{className:"px-1",children:"•"})]}),!d&&null!=l&&(0,s.jsx)(l,{className:"icon-sm"}),(0,s.jsx)("span",{children:E}),L,i?(0,s.jsxs)("div",{className:"flex items-center justify-center gap-1",children:[(0,s.jsx)("span",{className:"px-1",children:"•"}),i]}):null,U&&(0,s.jsxs)("div",{className:"flex items-center justify-center gap-1",children:[(0,s.jsx)("span",{className:"px-1",children:"•"}),(0,s.jsx)("strong",{children:(0,s.jsx)(g.Z,(0,r._)({},eZ.moderationView))})]}),!d&&M&&!T&&(0,s.jsx)("div",{className:"",children:(0,s.jsx)(eE,{clientThreadId:o})})]}),(0,s.jsx)("div",{className:"flex flex-shrink flex-row",children:v.map(function(e,t){return(0,s.jsx)("span",{children:e},t)})})]})]})}var eE=function(e){var t=e.clientThreadId,n=(0,y.Qi)(t),i=(0,f.useMemo)(function(){if(null==n)return null;var e=n.aboutUserMessage,t=n.aboutModelMessage,i=n.fallback;return null!=e&&null!=t?(0,s.jsxs)("div",{className:"flex flex-col gap-7",children:[null!==e&&""!==e&&(0,s.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,s.jsx)("div",{className:"font-medium text-gray-600 dark:text-gray-200",children:(0,s.jsx)(g.Z,(0,r._)({},eS.sY.aboutYouHelpText))}),(0,s.jsx)("div",{className:"flex flex-row gap-1 text-gray-500",children:e})]}),null!==t&&""!==t&&(0,s.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,s.jsx)("div",{className:"font-medium text-gray-600 dark:text-gray-200",children:(0,s.jsx)(g.Z,(0,r._)({},eS.sY.modelHelpText))}),(0,s.jsx)("div",{className:"flex flex-row gap-1 text-gray-500",children:t})]})]}):null!=i?i:null},[n]);return null===n?null:(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(M,{contentClassName:"relative max-h-[450px] min-w-[300px] max-w-[350px] animate-slideDownAndFade select-none overflow-y-auto whitespace-pre-line rounded-xl border-gray-100 bg-white p-4 text-sm text-gray-600 shadow-xs dark:bg-gray-900 dark:text-white sm:max-w-lg md:max-w-xl",side:"bottom",sideOffset:8,content:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"mb-5 mt-1 border-b border-black/10 pb-5 dark:border-white/10",children:(0,s.jsx)("div",{className:"flex flex-row items-center gap-2 text-gray-500",children:(0,s.jsx)(g.Z,(0,r._)({},eZ.chatPreferencesNote))})}),i]}),children:(0,s.jsxs)("div",{className:"cursor-pointer pt-0.5",children:[(0,s.jsx)(T.HV,{className:"h-4 w-4 flex-shrink-0 sm:mb-0.5 sm:h-5 sm:w-5"}),(0,s.jsx)(o.T,{children:(0,s.jsx)(g.Z,(0,r._)({},eZ.chatPreferencesInfoLabel))})]})})})},eZ=(0,p.vU)({chatPreferencesInfoLabel:{id:"ThreadSettings.chatPreferencesInfoLabel",defaultMessage:"Custom instructions details",description:"Label for the Custom instructions info icon"},chatPreferencesNote:{id:"ThreadSettings.chatPreferencesNote",defaultMessage:"Custom instructions are on and can only be changed at the beginning of the chat.",description:"Label in the popover for Custom Instructions"},openDebug:{id:"ThreadSettings.openDebug",defaultMessage:"Open debug sidebar",description:"Open debug sidebar button tooltip"},shareChat:{id:"ThreadSettings.shareChat",defaultMessage:"Share chat",description:"Open share modal button tooltip"},sharedChat:{id:"ThreadHeader.sharedChat",defaultMessage:"Shared Chat",description:"Label for shared chat status"},enabledPlugins:{id:"ThreadHeader.enabledPlugins",defaultMessage:"Enabled plugins:",description:"Label for enabled plugins in the header"},moderationView:{id:"ThreadHeader.moderationView",defaultMessage:"MODERATION VIEW",description:"Label for moderation view status"},downloadChatDebugInfo:{id:"ThreadHeader.downloadChatDebugInfo",defaultMessage:"Download chat debug info",description:"Title for the Download chat debug info modal"},downloadButton:{id:"ThreadHeader.downloadButton",defaultMessage:"Download",description:"Download button text in the Download chat debug info modal"},cancelButton:{id:"ThreadHeader.cancelButton",defaultMessage:"Cancel",description:"Cancel button text in the Download chat debug info modal"}})},23211:function(e,t,n){n.d(t,{D:function(){return r},z:function(){return i}});var r="ChatGPT",i="Untitled"},46266:function(e,t,n){n.d(t,{n:function(){return ee},Z:function(){return q}});var r=n(21722),i=n(39324),a=n(10064),s=n(38104),o=n(35250),l=n(7184),c=n(94705),d=n(21950),u=n(35265),h=n(96237),x=n(71209),f=n(4337),m=n(48133),g=n(30769),p=n(42798),v=n(86646),b=n(55548),y=n(65374),j=n(25494),w=n(68951),k=n(19841),N=n(70079),A=n(1454),C=n(70671),_=n(32004),M=n(94968),T=n(21389);function S(){var e=(0,f._)(["flex flex-col gap-6"]);return S=function(){return e},e}function z(){var e=(0,f._)(["flex flex-row justify-between py-3 items-center"]);return z=function(){return e},e}function I(e){var t=e.value,n=e.message;return(0,o.jsx)(y.xz,{className:"flex rounded-md px-2 py-1.5 text-sm text-token-text-primary radix-state-active:bg-white dark:radix-state-active:bg-token-surface-tertiary md:radix-state-active:bg-token-surface-tertiary md:radix-state-active:text-token-text-primary",value:t,children:(0,o.jsx)("div",{className:"truncate",children:(0,o.jsx)(_.Z,(0,i._)({},n))})})}function P(e){var t,n,a,l=e.gizmoId,c=e.actionSettings,d=e.actionTool,u=(0,j.D)({mutationFn:(t=(0,r._)(function(e){var t,n,r;return(0,s.Jh)(this,function(i){return t=e.actionId,n=e.domain,r=e.settings,[2,g.U.upsertUserActionSettings(t,n,r)]})}),function(e){return t.apply(this,arguments)}),onSuccess:function(){w.E.invalidateQueries({queryKey:["gizmo","userActionSettings",{gizmoId:l}]})}});return(0,o.jsxs)("div",{children:[(0,o.jsxs)(L,{className:"border-b pt-0",children:[(0,o.jsx)("div",{className:"font-medium",children:null===(n=d.data)||void 0===n?void 0:n.domain}),(0,o.jsxs)("a",{href:null===(a=d.data)||void 0===a?void 0:a.privacy_policy_url,target:"_blank",rel:"noreferrer",className:"flex items-center gap-1 text-gray-500 transition hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:[(0,o.jsx)(_.Z,(0,i._)({},E.privacyPolicyLink)),(0,o.jsx)(A.AlO,{})]})]}),Object.keys(c.operations).filter(function(e){return!c.operations[e].is_consequential}).map(function(e,t){var n,r=c.operations[e],a=null===(n=c.action_settings)||void 0===n?void 0:n[e],s=function(t){var n,r;(null===(n=d.data)||void 0===n?void 0:n.action_id)&&(null===(r=d.data)||void 0===r?void 0:r.domain)&&u.mutateAsync({actionId:d.data.action_id,domain:d.data.domain,settings:(0,h._)({},e,t)})};return(0,o.jsxs)(L,{children:[(0,o.jsx)("div",{children:r.id}),(0,o.jsxs)("select",{value:a?"always_allow":"unset",onChange:function(e){return s(e.target.value)},className:"overflow-scroll rounded border-none pl-2 pr-8 dark:bg-gray-800",children:[(0,o.jsx)("option",{value:"always_allow",children:(0,o.jsx)(_.Z,(0,i._)({},E.alwaysAllowDropdown))}),(0,o.jsx)("option",{value:"unset",children:(0,o.jsx)(_.Z,(0,i._)({},E.askDropdown))})]})]},t)})]})}function G(e){var t,n,a=e.gizmoId,l=e.actionSettings,c=e.actionTool,d=(0,j.D)({mutationFn:(t=(0,r._)(function(e){var t;return(0,s.Jh)(this,function(n){return t=e.pluginId,v.ZP.deletePluginUserSettings({pluginId:t}),[2]})}),function(e){return t.apply(this,arguments)}),onSuccess:function(){w.E.invalidateQueries({queryKey:["gizmo","userActionSettings",{gizmoId:a}]})}}),u="valid"===l.oauth_status;return(0,o.jsxs)(L,{children:[(0,o.jsx)("div",{className:"font-medium",children:null==c?void 0:null===(n=c.data)||void 0===n?void 0:n.domain}),(0,o.jsx)(m.z,{color:"neutral",className:"px-2 py-1",onClick:function(){var e,t,n,r,i;(null===(e=c.data)||void 0===e?void 0:e.action_id)&&(null===(t=c.data)||void 0===t?void 0:t.domain)&&(u?d.mutateAsync({pluginId:null===(n=c.data)||void 0===n?void 0:n.action_id}):g.U.doOAuthRedirect(a,null===(r=c.data)||void 0===r?void 0:r.action_id,null===(i=c.data)||void 0===i?void 0:i.domain,window.location.href))},children:(0,o.jsx)(_.Z,(0,i._)({},u?E.logout:E.login))})]})}var D=T.Z.div(S()),L=T.Z.div(z()),E=(0,M.vU)({title:{defaultMessage:"GPT's privacy settings",id:"GizmoPrivacySettings.title",description:"Title for the GPT privacy settings modal"},actions:{defaultMessage:"Actions",id:"GizmoPrivacySettings.actions",description:"Label for the actions tab"},connectedAccounts:{defaultMessage:"Connected accounts",id:"GizmoPrivacySettings.connectedAccounts",description:"Label for the connected accounts tab"},connectedAccountsDesc:{defaultMessage:"Manage which 3rd party accounts can be accessed by {gizmoName}.",id:"GizmoPrivacySettings.connectedAccountsDesc",description:"Description for the connected accounts tab"},allowedActionsTitle:{defaultMessage:"GPT's privacy settings",id:"GizmoPrivacySettings.allowedActionsTitle",description:"Title for the actions content body"},allowedActionsDesc:{defaultMessage:"Select which 3rd party actions are allowed in conversations with {gizmoName}.",id:"GizmoPrivacySettings.allowedActionsDesc",description:"Description for the actions content body"},privacyPolicyLink:{defaultMessage:"Privacy policy",id:"GizmoPrivacySettings.privacyPolicyLink",description:"Link text for the privacy policy"},alwaysAllowDropdown:{defaultMessage:"Always allow",id:"GizmoPrivacySettings.alwaysAllowDropdown",description:"Label text for the always allow button"},askDropdown:{defaultMessage:"Ask",id:"GizmoPrivacySettings.askDropdown",description:"Label text for the ask dropdown button"},login:{defaultMessage:"Log in",id:"GizmoPrivacySettings.login",description:"Button text for logging into an account"},logout:{defaultMessage:"Log out",id:"GizmoPrivacySettings.logout",description:"Button text for logging out of an account"}}),Z=function(e){var t=e.gizmo,n=(0,d.Wd)(t.id,!0),r=n.data,s=n.isLoading,u=(0,b.EV)(b.B.GPTPrivacySettings),h=function(){return b.vm.closeModal(b.B.GPTPrivacySettings)},f=(0,C.Z)(),m=(0,a._)((0,N.useState)("actions"),2),g=m[0],v=m[1];return(0,o.jsx)(l.Z,{title:f.formatMessage(E.title),isOpen:u,onClose:h,type:"success",size:"custom",className:"min-h-[50vh] max-w-3xl",noPadding:!0,closeButton:(0,o.jsx)(c.ZP.CloseButton,{onClose:h}),children:s?(0,o.jsx)(p.Z,{}):(0,o.jsxs)(y.fC,{className:"flex flex-row gap-6 p-4",orientation:"vertical",defaultValue:g,onValueChange:function(e){v(e)},children:[(0,o.jsxs)(y.aV,{className:(0,k.default)("flex min-w-[180px] max-w-[200px] flex-shrink-0 flex-col gap-2"),children:[(0,o.jsx)(I,{value:"actions",message:E.actions}),(0,o.jsx)(I,{value:"connected_accounts",message:E.connectedAccounts})]}),(0,o.jsxs)("div",{className:"flex-1 text-sm",children:["actions"===g&&(0,o.jsxs)(D,{children:[(0,o.jsx)(_.Z,(0,x._)((0,i._)({},E.allowedActionsDesc),{values:{gizmoName:t.name}})),null==r?void 0:r.settings.map(function(e,n){var r,i=null===(r=t.config.enabled_tools)||void 0===r?void 0:r.find(function(t){var n;return(null===(n=t.data)||void 0===n?void 0:n.action_id)===e.action_id});return i&&(0,o.jsx)(P,{gizmoId:t.id,actionSettings:e,actionTool:i},n)})]}),"connected_accounts"===g&&(0,o.jsxs)(D,{children:[(0,o.jsx)(_.Z,(0,x._)((0,i._)({},E.connectedAccountsDesc),{values:{gizmoName:t.name}})),(0,o.jsx)("div",{children:null==r?void 0:r.settings.map(function(e,n){var r,i=null===(r=t.config.enabled_tools)||void 0===r?void 0:r.find(function(t){var n;return(null===(n=t.data)||void 0===n?void 0:n.action_id)===e.action_id});return i&&e.oauth_status&&(0,o.jsx)(G,{gizmoId:t.id,actionSettings:e,actionTool:i},n)})})]})]})]})})},B=n(41187),O=n(10943),U=n(80275),R=n(28924),F=n(51505),K=n(17944),V=n(8679),H=n(18481),Q=n(47428),Y=n(38574),W=n(10721),J=n(53077),X=n(73960);function q(e){var t,n,l=e.children,c=e.gizmoTemplate,h=e.showReportModal,x=(0,W.useRouter)(),f=(0,X.XX)(c),m=(0,H.xj)(null==c?void 0:c.id),p=(0,K.hz)(),v=(0,a._)((0,N.useState)(!1),2),y=v[0],j=v[1],w=(0,B.eY)(c.id);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(Q.fC,{children:[(0,o.jsx)(Q.xz,{asChild:!0,children:l}),(0,o.jsx)(Q.Uv,{children:(0,o.jsxs)(Q.VY,{className:"mt-2 min-w-[100px] max-w-xs rounded-lg border border-gray-100 bg-token-surface-primary shadow-lg dark:border-gray-700",align:"start",children:[(0,o.jsxs)(O.UA,{onClick:function(){return x.push("/g/".concat(c.short_url))},children:[(0,o.jsx)(u.ks,{className:"icon-md"}),(0,o.jsx)(_.Z,(0,i._)({},ei.newChat))]}),(0,o.jsxs)(O.UA,{onClick:function(){return b.vm.openModal(b.B.GPTDetails)},children:[(0,o.jsx)(u.VX,{className:"icon-md"}),(0,o.jsx)(_.Z,(0,i._)({},ei.about))]}),(0,o.jsxs)(O.UA,{onClick:function(){return b.vm.openModal(b.B.GPTPrivacySettings)},children:[(0,o.jsx)(u.LX,{className:"icon-md"}),(0,o.jsx)(_.Z,(0,i._)({},ei.privacySettings))]}),f&&(0,o.jsxs)(O.UA,{onClick:function(){x.push(m,void 0,{shallow:!0})},children:[(0,o.jsx)(u.RR,{className:"icon-md"}),(0,o.jsx)(_.Z,(0,i._)({},ei.customize))]}),(0,o.jsxs)(O.UA,{onClick:function(){g.U.updateGizmoSidebar(c.id,w?"hide":"keep")},children:[w?(0,o.jsx)(u.q5,{className:"icon-md"}):(0,o.jsx)(u.pI,{className:"icon-md"}),(0,o.jsx)(_.Z,(0,i._)({},w?B.Vc.hideFromSidebar:B.Vc.keepInSidebar))]}),c.share_recipient!=U.Zz.Private&&(0,o.jsxs)(O.UA,{onClick:(t=(0,r._)(function(e){return(0,s.Jh)(this,function(t){switch(t.label){case 0:e.stopPropagation(),e.preventDefault(),t.label=1;case 1:return t.trys.push([1,3,,4]),[4,(0,Y.S)("".concat("https://chat.openai.com").concat((0,d.m_)(c)))];case 2:return t.sent(),j(!0),setTimeout(function(){j(!1)},2e3),[3,4];case 3:return console.error(t.sent()),[2];case 4:return[2]}})}),function(e){return t.apply(this,arguments)}),children:[(0,o.jsx)(u.HN,{className:"icon-md"}),y?(0,o.jsx)(_.Z,(0,i._)({},ei.copiedURL)):(0,o.jsx)(_.Z,(0,i._)({},ei.copyLink))]}),!f&&!(null===(n=c.config.tags)||void 0===n?void 0:n.includes(U.U9.FirstParty))&&null!=h&&(0,o.jsxs)(O.UA,{onClick:h,children:[(0,o.jsx)(u.AZ,{className:"icon-md"}),(0,o.jsx)(_.Z,(0,i._)({},ei.report))]}),p.has("debug")&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(O.Cl,{}),(0,o.jsx)(O.UA,{onClick:function(){x.push((0,d.i6)(c),void 0)},children:"(Internal) See share page"})]})]})})]}),(0,o.jsx)(et,{gizmo:c}),(0,o.jsx)(Z,{gizmo:c})]})}var $=function(e){var t=e.clientThreadId,n=(0,K.hz)().has("debug"),r=F.tQ.getServerThreadId(t);return(0,o.jsxs)(o.Fragment,{children:[r&&(0,o.jsxs)(O.UA,{onClick:function(){return b.vm.openSharingModal(r)},children:[(0,o.jsx)(u.Gp,{className:"icon-md"}),(0,o.jsx)(_.Z,(0,i._)({},ei.shareChat))]}),n&&(0,o.jsxs)(O.UA,{onClick:function(){return b.vm.toggleActiveSidebar("debug")},children:[(0,o.jsx)(u.WP,{className:"icon-md"}),(0,o.jsx)(_.Z,(0,i._)({},ei.debugChat))]}),(0,o.jsxs)(O.UA,{onClick:function(){setTimeout(function(){V.n.publish({kind:"editTitle"})},100)},children:[(0,o.jsx)(u.eu,{className:"icon-md"}),(0,o.jsx)(_.Z,(0,i._)({},ei.renameChat))]}),(0,o.jsxs)(O.UA,{color:"danger",onClick:function(){V.n.publish({kind:"deleteChat"})},children:[(0,o.jsx)(u.a_,{className:"icon-md"}),(0,o.jsx)(_.Z,(0,i._)({},ei.deleteChat))]})]})},ee=function(e){var t=e.clientThreadId,n=e.children;return(0,o.jsxs)(Q.fC,{children:[(0,o.jsx)(Q.xz,{asChild:!0,children:n}),(0,o.jsx)(Q.Uv,{children:(0,o.jsx)(Q.VY,{className:"mt-2 min-w-[200px] max-w-xs rounded-lg border border-gray-100 bg-token-surface-primary shadow-lg dark:border-gray-700",side:"bottom",align:"start",sideOffset:-15,children:(0,o.jsx)($,{clientThreadId:t})})})]})},et=function(e){var t,n=e.gizmo,r=(0,b.EV)(b.B.GPTDetails),a=function(){return b.vm.closeModal(b.B.GPTDetails)},s=(0,R.ZP)().find(function(e){return e.categoryId===R.ft.GPT4}),d=(0,K.ec)(K.F_.accountUserId),h=(0,K.aF)(),x=null==h?void 0:h.id,f=null!==(t=(0,K.ec)(K.F_.businessWorkspaceId))&&void 0!==t?t:void 0,m=null!=n&&null!=d&&null!=x&&(0,X.k1)(n,d,x,f);return(0,o.jsxs)(l.Z,{isOpen:r,onClose:a,type:"success",noPadding:!0,children:[(0,o.jsx)("div",{className:"absolute right-4 top-4",children:(0,o.jsx)(c.ZP.CloseButton,{onClose:a})}),(0,o.jsx)("div",{className:"border-b border-token-border-heavy px-4 py-5 sm:px-6 sm:py-10",children:(0,o.jsx)(J.r,{gizmo:n,isOwner:m})}),(0,o.jsxs)("div",{className:"px-4 py-5 text-center sm:px-6 sm:py-10",children:[(0,o.jsx)("div",{className:"text-sm font-normal text-token-text-tertiary",children:(0,o.jsx)(_.Z,(0,i._)({},ei.poweredBy))}),(0,o.jsxs)("div",{className:"flex items-center justify-center gap-1.5 pt-1 text-2xl font-medium",children:[(0,o.jsx)(u.HV,{className:"text-brand-purple"}),(0,o.jsx)(_.Z,(0,i._)({},ei.gpt4))]}),(null==s?void 0:s.description)&&(0,o.jsx)("div",{className:"mx-auto max-w-xs pt-5 text-base font-normal text-token-text-secondary",children:null==s?void 0:s.description}),(0,o.jsx)(er,{tools:n.config.enabled_tools})]})]})},en=function(e){switch(e.tool_id){case"browser":return"Browsing";case"python":return"Data Analysis";case"function":return"Function Calling";case"dalle":return"DALL•E";default:return null}},er=function(e){var t=e.tools,n=new Set;if(!t||0===t.length)return null;var r=!0,i=!1,a=void 0;try{for(var s,l=t[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){var c=s.value,d=en(c);null!=d&&n.add(d)}}catch(e){i=!0,a=e}finally{try{r||null==l.return||l.return()}finally{if(i)throw a}}return 0===n.size?null:(0,o.jsx)("div",{className:"flex flex-wrap justify-center gap-3 pt-5",children:Array.from(n).map(function(e,t){return(0,o.jsxs)("div",{className:"flex items-center gap-0.5 pt-1 text-xs font-normal text-token-text-tertiary",children:[(0,o.jsx)(u.oS,{className:"icon-sm text-green-600"}),e]},t)})})},ei=(0,M.vU)({poweredBy:{defaultMessage:"Powered by",id:"GizmoInformation.poweredBy",description:"Label for the powered by section of the GPT details modal"},gpt4:{defaultMessage:"GPT-4",id:"GizmoInformation.gpt4",description:"Label for the GPT-4 category of the Gizmo model"},gpt3_5:{defaultMessage:"GPT-3.5",id:"GizmoInformation.gpt3_5",description:"Label for the GPT-3.5 category of the Gizmo model"},newChat:{defaultMessage:"New chat",id:"GizmoInformation.newChat",description:"Label for the new chat button"},about:{defaultMessage:"About",id:"GizmoInformation.about",description:"Label for the model details button"},privacySettings:{defaultMessage:"Privacy settings",id:"GizmoInformation.privacySettings",description:"Label for the model's privacy settings button"},viewDetails:{defaultMessage:"View details",id:"GizmoInformation.viewDetails",description:"Label for the model details button"},share:{defaultMessage:"Share",id:"GizmoInformation.share",description:"Label for the share button"},favorite:{defaultMessage:"Favorite",id:"GizmoInformation.favorite",description:"Label for the favorite button"},customize:{defaultMessage:"Edit GPT",id:"GizmoInformation.customize",description:"Label for the customize button"},report:{defaultMessage:"Report",id:"GizmoInformation.report",description:"Label for the report button"},privacy:{defaultMessage:"Privacy",id:"GizmoInformation.privacy",description:"Label for the privacy button"},deleteChat:{defaultMessage:"Delete chat",id:"GizmoInformation.deleteChat",description:"Delete chat button"},debugChat:{defaultMessage:"Debug",id:"GizmoInformation.debugChat",description:"Debug chat button"},renameChat:{defaultMessage:"Rename",id:"GizmoInformation.renameChat",description:"Rename chat button"},copyLink:{defaultMessage:"Copy link",id:"GizmoInformation.copyLink",description:"Share chat button"},shareChat:{defaultMessage:"Share",id:"GizmoInformation.shareChat",description:"Share chat button"},copiedURL:{defaultMessage:"Copied URL",id:"GizmoInformation.copiedURL",description:"Text that displays when you copy a url"}})},53077:function(e,t,n){n.d(t,{r:function(){return P}});var r=n(35250),i=n(31448),a=n(15635),s=n(418),o=n(35265),l=n(80275),c=n(42325),d=n(39324),u=n(10064),h=n(7184),x=n(21950),f=n(10943),m=n(59904),g=n(19253),p=n(19841),v=n(21988),b=n.n(v),y=n(70079),j=n(32004),w=n(94968),k={src:"https://cdn.oaistatic.com/_next/static/media/onboarding-icon-autodeck.a93d5bdd.png",height:288,width:288,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAA9UlEQVR42h3PS0rDQAAG4H+SeaVJrBFE2xtkqbtQ6Ck8gRvduhA8ylxFXErJTrqzNBtFEBXENqFJOpmH0O8GHwGAVt3kXGQqiM8KH09h0vPSROktgFe6e7jO2a9YII0yOzAYS7CnwbxhclGLaEbDalDm7iojlxfady0HQsSc6c3PLlt9aEVRTwuXnCAcBg5L0XQBwB3vCcVL5wpK3AS6N7D7Hq718DSEFB791mFtGCg5nZT2+XNeH0tNAsK9Bra104/vEddsVJL+/ik3hC2+x2G2TgQqKVElCb7GR39pHM4IAGzUMm+4VKtRVCyFxJtgpRX+0PwH9IZmGXBmq0UAAAAASUVORK5CYII=",blurWidth:8,blurHeight:8},N={src:"https://cdn.oaistatic.com/_next/static/media/onboarding-icon-cumulus.f841e525.png",height:288,width:288,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAA2ElEQVR42j2PvUoDQRSF53XmyWwsrCxFsLL1BUSwtBC00Ea8EtYii2IwiVFJQmCz5IdNioSZezdzT2bzd+DA5X5fc0yVi9u6vbqv0V3tVZJmIs3+Jw2ylt3Ao7O2vbxuFY9JF89pGw/pG15+30FZo6Bxx5rj0x59/SwxXYJHM+Cjn+Op98c32TfO85TMf8eJ84AThWPFhIFxCQxdiZO8Lqb0EHYKVQWg4KBYxS6gaPBcjHAgDagE3ksxzAgQVTIibCMosMtBib/S++0SZrYhBIqiVK1uz7yBazFL1NxWfzsyAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:8},A={src:"https://cdn.oaistatic.com/_next/static/media/onboarding-icon-interior.a5747c2c.png",height:288,width:288,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAclBMVEUAKToAKDgAJTUAJDQAIzQANEMAMEAALz8AMEEALz8AdIQAc4QAVmYAM0YALT0ALD0AJDYAIzUAABgAv9QArcEAqLsAp7sAkaMAj6EAfI0Ae4wAcYMAaXkAX28AXGwAP08APk4AGzAAGi8AGS4AABsAAA/pElgZAAAAE3RSTlMAACkpKcHBwe7u+fn5+vr6+vr6aGOLYQAAAEZJREFUeNoFQAcWgBAA/dmKBpq0xP2v2AOodE5SgOicUtYEvHbz0laO4d3Oa809xifsR7gniM94b7IAUyXGohgaIq2VpPkBmUwEN8VEfq4AAAAASUVORK5CYII=",blurWidth:8,blurHeight:8},C={src:"https://cdn.oaistatic.com/_next/static/media/onboarding-icon-reactify.50d6fdd1.png",height:288,width:290,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAABCklEQVR4nAUAu0rDUPSccx/pzW1qQqQlgpsItiCIDu0QpIOLCoLgUnRR6NQ/cHPyE/oTbnV0aejoYxHJEBwKkupgOtQhaXoFHT8EU65aXOkhGNYmWTFMOxGC6DOpEqz5YbPkfFIswXU3GgaFBvO7ROY4KbNUB+16d1xVtXCtcPKf3rkU7zGILM3JKIkrNkJv8yTPCuKDg2ssbo/g8esTTPxm6CFG0vYc61sX+XdW8MPeGZ7eX0E5ZfBy92SiJEJddefob1+OLVLhYj/Ig+6x3HtewN/HLH8VM2mhNcLGzk0TLTURGbng+WbqMfBKwvWKlwIXHQx2B0DMajGth0SyLbltSNpRSbwPYJJ/o79Xydc39fwAAAAASUVORK5CYII=",blurWidth:8,blurHeight:8};function _(e){var t=e.gizmoId,n=(0,x.kg)(t),i=(0,u._)((0,y.useState)(function(){return!g.m.getItem(g.F.GizmoGPTsOnboarding)}),2),a=i[0],s=i[1];if(null==n.data||!a)return null;var l=function(){s(!1),g.m.setItem(g.F.GizmoGPTsOnboarding,!0)};return(0,r.jsxs)(h.Z,{isOpen:!0,onClose:l,type:"success",className:"!max-w-[500px]",noPadding:!0,children:[(0,r.jsx)("div",{className:"flex cursor-pointer justify-end p-4 text-xl text-token-text-tertiary",children:(0,r.jsx)("button",{onClick:l,children:(0,r.jsx)(o.v7,{className:"icon-md"})})}),(0,r.jsx)("div",{className:"mb-8 mt-4 w-full overflow-hidden",children:(0,r.jsx)(I,{gizmo:n.data})}),(0,r.jsxs)("div",{className:"mx-4 mb-4 flex flex-col gap-4 md:mx-12 md:mb-12",children:[(0,r.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,r.jsx)("div",{className:"text-center text-2xl font-bold",children:(0,r.jsx)(j.Z,(0,d._)({},M.gizmoGPTsOnboardingHeadline))}),(0,r.jsx)("div",{className:"text-center text-token-text-secondary",children:(0,r.jsx)(j.Z,(0,d._)({},M.gizmoGPTsOnboardingSubheading))})]}),(0,r.jsx)(f.Zq,{className:"w-full",color:"primary",onClick:l,children:(0,r.jsx)(j.Z,(0,d._)({},M.gizmoOnboardingStart))})]})]})}var M=(0,w.vU)({gizmoGPTsOnboardingHeadline:{id:"gizmoGPTsOnboarding.headline",defaultMessage:"Introducing GPTs",description:"Headline for the GPTs onboarding modal"},gizmoGPTsOnboardingSubheading:{id:"gizmoGPTsOnboarding.subheading",defaultMessage:"Custom versions of ChatGPT that combine instructions, extra knowledge and capabilities for a specific purpose.",description:"Subheading for the GPTs onboarding modal"},gizmoOnboardingStart:{id:"gizmoOnboarding.start",defaultMessage:"Get started",description:"Button to start using GPTs"}});function T(e){var t=e.icon,n=e.iconClassName;return(0,r.jsxs)("div",{className:(0,p.default)("relative flex h-16 w-16 items-center justify-center overflow-hidden rounded-full",n),children:[null!=t?(0,r.jsx)(b(),{src:t,alt:"GPT Icon",width:"112",height:"112",className:"h-full w-full"}):(0,r.jsx)(m.nI,{className:"h-[66%] w-[66%]"}),(0,r.jsx)("div",{className:"absolute inset-0 rounded-full shadow-[inset_0_0_0_1px_rgba(0,0,0,0.1)] dark:shadow-[inset_0_0_0_1px_rgba(255,255,255,0.1)]"})]})}function S(e){var t=e.icon;return(0,r.jsx)(T,{icon:t})}function z(e){var t=e.icon;return(0,r.jsx)(T,{icon:t})}function I(e){var t=e.gizmo;return(0,r.jsxs)("div",{className:"-ml-8 flex w-[calc(100%+4rem)] items-center justify-between",children:[(0,r.jsx)(S,{icon:N}),(0,r.jsx)(z,{icon:C}),(0,r.jsx)(T,{icon:t.profile_pic_permalink,iconClassName:"w-[128px] h-[128px]"}),(0,r.jsx)(z,{icon:A}),(0,r.jsx)(S,{icon:k})]})}function P(e){var t,n=e.gizmo,d=e.isOwner,u=e.isAnon,h=e.hideOwner,x=e.children,f=!!(null===(t=null==n?void 0:n.config.tags)||void 0===t?void 0:t.includes(l.U9.FirstParty));return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"flex h-full flex-col items-center justify-center",children:[(0,r.jsx)(s.Z,{isFirstParty:f||!n,src:null==n?void 0:n.profile_pic_permalink,className:"mb-3 h-[72px] w-[72px]"}),null!=n?(0,r.jsxs)("div",{className:"flex flex-col items-center gap-0 p-2",children:[(0,r.jsx)("div",{className:"text-center text-2xl font-medium",children:n.name}),n.description&&(0,r.jsx)("div",{className:"max-w-md text-center text-xl font-normal text-token-text-secondary",children:n.description}),!(void 0!==h&&h)&&(0,r.jsx)("div",{className:"mt-1 flex items-center gap-1 text-token-text-tertiary",children:f?(0,r.jsx)(c.S3,{children:"By ChatGPT"}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(c.ZP,{gizmo:n}),!d&&!(void 0!==u&&u)&&(0,r.jsx)(a.u,{className:"pt-[1px]",label:(0,r.jsxs)(r.Fragment,{children:[n.author.display_name?n.author.selected_display===i.y.WEBSITE?(0,c.OR)(n.author.display_name):n.author.display_name:"".concat(n.name,"’s builder")," ","can’t view your chats"]}),children:(0,r.jsx)(o.VX,{className:"icon-xs"})})]})})]}):(0,r.jsx)("div",{className:"mb-5 text-2xl font-medium",children:"How can I help you today?"}),x]}),(null==n?void 0:n.id)!=null&&(0,r.jsx)(_,{gizmoId:null==n?void 0:n.id})]})}},41187:function(e,t,n){n.d(t,{Dy:function(){return E},Vc:function(){return R},eY:function(){return L},iD:function(){return U},jl:function(){return B}});var r,i,a=n(21722),s=n(39324),o=n(10064),l=n(38104),c=n(35250),d=n(39368),u=n(15635),h=n(418),x=n(23211),f=n(21950),m=n(35265),g=n(30769),p=n(23234),v=n(10943),b=n(80275),y=n(61802),j=n(17944),w=n(18481),k=n(47428),N=n(4536),A=n(19841),C=n(97296),_=n(61888),M=n(73040),T=n.n(M),S=n(70079),z=n(32004),I=n(70671),P=n(94968),G=n(53077),D=n(73960);function L(e){var t=(0,f.Wz)().data,n=(void 0===t?{}:t).gizmos;return!!n&&n.some(function(t){return t.gizmo.id===e})}function E(e){var t,n,r,a,o=e.currentGizmoId,l=function(e,t){return(0,c.jsx)(B,{gizmo:e,isActive:e.id===o,section:t},e.id)},d=(0,f.Wz)().data,u=(void 0===d?{}:d).gizmos,h=(0,_.groupBy)(u,function(e){return e.flair.kind}),x=(null===(t=h[b.JK.Recent])||void 0===t?void 0:t.length)>0;return(0,p.Ml)()?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("div",{className:"sticky left-0 right-0 top-0 z-20 bg-black pt-3.5",children:(0,c.jsx)(B,{gizmo:void 0,isActive:void 0===o})}),(0,c.jsxs)("div",{children:[null===(n=h[b.JK.FirstParty])||void 0===n?void 0:n.map(function(e){return l(e.gizmo,i.Keep)}),null===(r=h[b.JK.SidebarKeep])||void 0===r?void 0:r.map(function(e){return l(e.gizmo,i.Keep)}),x&&(0,c.jsx)("div",{className:"my-2 ml-2 h-px w-6 bg-token-border-light"}),null===(a=h[b.JK.Recent])||void 0===a?void 0:a.slice(0,2).map(function(e){return l(e.gizmo,i.Recents)}),(0,c.jsx)(C.E.div,{whileTap:{scale:.98},children:(0,c.jsxs)(T(),{href:(0,w.cy)(),className:"flex h-10 w-full items-center gap-2 rounded-lg px-2 font-semibold text-token-text-primary hover:bg-token-surface-primary",children:[(0,c.jsx)("div",{className:"flex h-7 w-7 items-center justify-center text-token-text-secondary",children:(0,c.jsx)(m.hk,{className:"icon-md"})}),(0,c.jsx)("span",{className:"text-sm",children:(0,c.jsx)(z.Z,(0,s._)({},R.explore))})]},"explore")})]})]}):null}function Z(e){var t=e.gizmo,n=e.isOpen,r=e.setIsOpen,o=e.section;return(0,c.jsxs)(k.fC,{open:n,onOpenChange:r,children:[(0,c.jsx)(k.xz,{asChild:!0,children:(0,c.jsx)("button",{className:(0,A.default)("flex text-token-text-tertiary",n?"":"invisible group-hover:visible"),children:(0,c.jsx)(m.Yr,{className:"icon-md"})})}),(0,c.jsx)(k.Uv,{children:(0,c.jsxs)(k.VY,{className:"mt-2 min-w-[100px] max-w-xs rounded-lg border border-gray-100 bg-token-surface-primary py-1.5 shadow-lg dark:border-gray-700",align:"start",side:"bottom",sideOffset:-8,alignOffset:-8,children:[o===i.Recents&&(0,c.jsx)(v.UA,{onClick:(0,a._)(function(){return(0,l.Jh)(this,function(e){switch(e.label){case 0:return[4,g.U.updateGizmoSidebar(t.id,"keep")];case 1:return e.sent(),[2]}})}),children:(0,c.jsx)(z.Z,(0,s._)({},R.keepInSidebar))}),(0,c.jsx)(v.UA,{onClick:(0,a._)(function(){return(0,l.Jh)(this,function(e){switch(e.label){case 0:return[4,g.U.updateGizmoSidebar(t.id,"hide")];case 1:return e.sent(),[2]}})}),children:(0,c.jsx)(z.Z,(0,s._)({},R.hideFromSidebar))})]})})]})}function B(e){var t,n=e.gizmo,r=e.historyDisabled,i=e.isActive,a=e.section,s=(0,I.Z)(),l=(0,o._)((0,S.useState)(!1),2),d=l[0],g=l[1],v=(0,p.Og)(),y=!!(null===(t=null==n?void 0:n.config.tags)||void 0===t?void 0:t.includes(b.U9.FirstParty)),j="New chat";return null!=n?j=n.name||x.z:r?j=s.formatMessage(R.clearChat):v&&(j=x.D),(0,c.jsx)(C.E.div,{className:"pb-0.5 last:pb-0",whileTap:{scale:.98},children:(0,c.jsx)(O,{href:null!=n?(0,f.m_)(n):"/",icon:(0,c.jsx)(h.Z,{isFirstParty:null==n||y,src:null==n?void 0:n.profile_pic_permalink,className:"h-7 w-7 flex-shrink-0"}),isMenuOpen:d,label:j,hoverRightIcon:(0,c.jsxs)("div",{className:"flex gap-3",children:[null!=n&&(0,c.jsx)("div",{className:"text-token-text-tertiary",onClick:function(e){e.preventDefault()},children:(0,c.jsx)(Z,{gizmo:n,isOpen:d,setIsOpen:g,section:a})}),(0,c.jsx)(u.u,{side:"right",label:s.formatMessage(r?R.clearChat:R.newChat),delayDuration:100,className:"flex items-center",children:(0,c.jsx)("button",{className:i?"text-token-text-primary":d?"text-token-text-tertiary":"invisible text-token-text-tertiary hover:text-token-text-secondary group-hover:visible",children:r?(0,c.jsx)(m.vX,{className:"icon-md"}):(0,c.jsx)(m.ks,{className:"icon-md"})})})]})})})}function O(e){var t=e.href,n=e.icon,r=e.label,i=e.hoverRightIcon,a=e.isMenuOpen;return(0,c.jsxs)(T(),{href:t,shallow:!0,className:(0,A.default)("group flex h-10 items-center gap-2 rounded-lg px-2 font-medium",a?"bg-token-surface-primary":"hover:bg-token-surface-primary"),children:[n,(0,c.jsx)("div",{className:"grow overflow-hidden text-ellipsis whitespace-nowrap text-sm text-token-text-primary",children:r}),i]})}function U(e){var t,n,r,i=e.clientThreadId,a=e.currentModel,s=(0,d.DT)(i),o=(0,d.rm)(),l=(0,f.kg)(s).data,u=(0,j.ec)(j.F_.accountUserId),h=null===(t=(0,N.kP)().session)||void 0===t?void 0:null===(n=t.user)||void 0===n?void 0:n.id,x=null!==(r=(0,j.ec)(j.F_.businessWorkspaceId))&&void 0!==r?r:void 0;if((null!=o||null!=s)&&null==l)return null;var m=null!=l&&null!=u&&null!=h&&(0,D.k1)(l,u,h,x);return(0,c.jsxs)("div",{className:"relative h-full",children:[(0,c.jsx)("div",{className:"absolute left-0 right-0",children:(0,c.jsx)(y.B,{icon:void 0,currentModelConfig:a,clientThreadId:i,gizmoId:s})}),(0,c.jsx)(G.r,{gizmo:l,isOwner:m})]})}(r=i||(i={}))[r.Keep=0]="Keep",r[r.Recents=1]="Recents";var R=(0,P.vU)({explore:{id:"gizmo.explore",defaultMessage:"Explore",description:"Button that allows you to explore more GPTs"},keepInSidebar:{id:"gizmo.keepInSidebar",defaultMessage:"Keep in sidebar",description:"Whether to keep a gpt in sidebar"},hideFromSidebar:{id:"gizmo.hideFromSidebar",defaultMessage:"Hide from sidebar",description:"Whether to hide a gpt from sidebar"},newChat:{id:"gizmo.newChat",defaultMessage:"New chat",description:"New chat tooltip"},clearChat:{id:"gizmo.clearChat",defaultMessage:"Clear chat",description:"Clear chat button label"}})},73960:function(e,t,n){n.d(t,{F9:function(){return u},MI:function(){return x},Pk:function(){return h},XX:function(){return d},k1:function(){return c}});var r=n(21950),i=n(80275),a=n(17944),s=n(42786),o=n(94968),l=n(1703);function c(e,t,n,i){return e.owner_id===t||(0,r.kS)(e.id)&&e.owner_id===n&&e.workspace_id===i}function d(e){var t,n=(0,a.ec)(a.F_.accountUserId),r=(0,a.aF)();return c(e,n,null==r?void 0:r.id,null!==(t=(0,a.ec)(a.F_.businessWorkspaceId))&&void 0!==t?t:void 0)}function u(e){try{return l.ZP.parse(e)}catch(e){return null}}function h(e){return e<1e3?e.toString():e<1e6?(e/1e3).toFixed(1)+"K":(e/1e6).toFixed(1)+"M"}function x(e,t,n){var r=null==t?void 0:t.name;switch(e){case i.Zz.Link:return n.formatMessage(f.privacyAnyoneWithLink);case i.Zz.Private:return n.formatMessage(f.privacyOnlyMe);case i.Zz.Marketplace:return n.formatMessage(f.privacyMarketplace);case i.Zz.Workspace:return n.formatMessage(f.privacyWorkspace,{workspaceName:r});default:return(0,s.Z)(e),""}}var f=(0,o.vU)({privacyOnlyMe:{id:"gizmo.privacyOnlyMe",defaultMessage:"Only me",description:"Description for a privacy setting of fully private"},privacyAnyoneWithLink:{id:"gizmo.privacyAnyoneWithLink",defaultMessage:"Only people with a link",description:"Description for a privacy setting of anyone with link"},privacyWorkspace:{id:"gizmo.privacyWorkspace",defaultMessage:"Anyone at {workspaceName}",description:"Description for a privacy setting of workspace"},privacyMarketplace:{id:"gizmo.privacyMarketplace",defaultMessage:"Public",description:"Description for a privacy setting of public"}})},69789:function(e,t,n){n.d(t,{C:function(){return c}});var r=n(39324),i=n(71209),a=n(91530),s=n.n(a),o=n(78103),l={showReferralInviteModal:!1},c=(0,o.ZP)()(function(e){return(0,i._)((0,r._)({},l),{setShowReferralInviteModal:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s();e({showReferralInviteModal:t}),null==n||n()}})})},86585:function(e,t,n){n.d(t,{i:function(){return f}});var r=n(21722),i=n(20485),a=n(38104),s=n(86646),o=n(51505),l=n(82473),c=n(61236),d=n(56457),u=n(21613);function h(e){return x.apply(this,arguments)}function x(){return(x=(0,r._)(function(e){var t;return(0,a.Jh)(this,function(n){switch(n.label){case 0:return t=e.queryKey,[4,s.ZP.publicGetPluginsById({ids:t})];case 1:return[2,n.sent().items]}})})).apply(this,arguments)}function f(e){var t,n,r;return null!==(t=(n=(0,o.GR)(e),r=(0,l.NL)(),(0,c.a)({queryKey:n,queryFn:h,initialData:function(){var e=null===(c=r.getQueryData(u.Z))||void 0===c?void 0:c.items,t=null===(h=r.getQueryData(d.V))||void 0===h?void 0:h.items,a=[],s=!0,o=!1,l=void 0;try{for(var c,h,x,f=n[Symbol.iterator]();!(s=(x=f.next()).done);s=!0){var m=function(){var n,r=x.value,i=null!==(n=null==e?void 0:e.find(function(e){return e.id===r}))&&void 0!==n?n:null==t?void 0:t.find(function(e){return e.id===r});if(null==i)return{v:void 0};a.push(i)}();if("object"===(0,i._)(m))return m.v}}catch(e){o=!0,l=e}finally{try{s||null==f.return||f.return()}finally{if(o)throw l}}return a}})).data)&&void 0!==t?t:[]}},84844:function(e,t,n){n.d(t,{LW:function(){return a},eR:function(){return i}});var r=n(10064);function i(e,t){var n=!0,i=!1,a=void 0;try{for(var s,o=Object.entries(t)[Symbol.iterator]();!(n=(s=o.next()).done);n=!0){var l=(0,r._)(s.value,2),c=l[0],d=l[1];e.addEventListener(c,d)}}catch(e){i=!0,a=e}finally{try{n||null==o.return||o.return()}finally{if(i)throw a}}return function(){var n=!0,i=!1,a=void 0;try{for(var s,o=Object.entries(t)[Symbol.iterator]();!(n=(s=o.next()).done);n=!0){var l=(0,r._)(s.value,2),c=l[0],d=l[1];e.removeEventListener(c,d)}}catch(e){i=!0,a=e}finally{try{n||null==o.return||o.return()}finally{if(i)throw a}}}}function a(e,t){var n=!0,i=!1,a=void 0;try{for(var s,o=Object.entries(t)[Symbol.iterator]();!(n=(s=o.next()).done);n=!0){var l=(0,r._)(s.value,2),c=l[0],d=l[1];e.on(c,d)}}catch(e){i=!0,a=e}finally{try{n||null==o.return||o.return()}finally{if(i)throw a}}return function(){var n=!0,i=!1,a=void 0;try{for(var s,o=Object.entries(t)[Symbol.iterator]();!(n=(s=o.next()).done);n=!0){var l=(0,r._)(s.value,2),c=l[0],d=l[1];e.off(c,d)}}catch(e){i=!0,a=e}finally{try{n||null==o.return||o.return()}finally{if(i)throw a}}}}},4263:function(e,t,n){n.d(t,{V:function(){return s}});var r=n(51217),i=n(36560),a=n.n(i),s=function(){function e(){(0,r._)(this,e),this.emitter=new(a()),this.emitter.setMaxListeners(1e3)}var t=e.prototype;return t.on=function(e,t){this.emitter.on(e,t)},t.off=function(e,t){this.emitter.off(e,t)},t.publish=function(e){this.emitter.emit(e.kind,e),this.emitter.emit("anyEvent",e)},e}()},8679:function(e,t,n){n.d(t,{n:function(){return P},A3:function(){return z},yx:function(){return E},JS:function(){return L}});var r,i,a,s=n(96237),o=n(39324),l=n(64502),c=n(15858),d=n(54636),u=n(42780),h=n(38574),x=n(42918),f=n(61888),m=n(70079),g=n(94968),p=n(61098),v=n(41143),b=n(72290),y=n(62682),j=n(51505),w=n(55548),k=n(17944),N=n(4263),A=n(86925),C=n(45248),_=m.useLayoutEffect,M=RegExp("```.*?\\n([\\s\\S]+?)\\n?```[^`]*$","gms");(r=i||(i={})).Core="Core",r.Chat="Chat",r.Settings="Settings";var T=(0,o._)({Mod:"mod",Comma:","},c.s),S=(a={},(0,s._)(a,T.Mod,/Mac|iPod|iPhone|iPad/.test(window.navigator.platform)?"⌘":"Ctrl"),(0,s._)(a,T.Comma,","),(0,s._)(a,T.Enter,"⏎"),(0,s._)(a,T.Escape,"Esc"),(0,s._)(a,T.ArrowUp,"↑"),(0,s._)(a,T.ArrowDown,"↓"),(0,s._)(a,T.ArrowLeft,"←"),(0,s._)(a,T.ArrowRight,"→"),(0,s._)(a,T.Backspace,"⌫"),(0,s._)(a,T.Delete,"⌦"),(0,s._)(a,T.Tab,"⇥"),(0,s._)(a,T.Control,"Ctrl"),(0,s._)(a,T.Shift,"Shift"),a),z=function(e){var t;return e.map(function(e){return null!==(t=S[e])&&void 0!==t?t:e})},I=(0,g.vU)({newChat:{id:"keyboardActions.newChat",defaultMessage:"Open new chat",description:"Keyboard shortcut to open a new chat"},focusPromptTextarea:{id:"keyboardActions.focusPromptTextarea",defaultMessage:"Focus chat input",description:"Keyboard shortcut to focus the chat input"},copyLastCodeBlock:{id:"keyboardActions.copyLastCodeBlock",defaultMessage:"Copy last code block",description:"Keyboard shortcut to copy the last code block in the chat"},copyLastResponse:{id:"keyboardActions.copyLastResponse",defaultMessage:"Copy last response",description:"Keyboard shortcut to copy the last response in the chat"},toggleCustomInstructions:{id:"keyboardActions.toggleCustomInstructions",defaultMessage:"Set custom instructions",description:"Keyboard shortcut to toggle custom instructions"},navigationToggle:{id:"keyboardActions.navigationToggle",defaultMessage:"Toggle sidebar",description:"Keyboard shortcut to toggle navigation"},deleteChat:{id:"keyboardActions.deleteChat",defaultMessage:"Delete chat",description:"Keyboard shortcut to delete chat"},toggleKeyboardActions:{id:"keyboardActions.toggleKeyboardActions",defaultMessage:"Show shortcuts",description:"Keyboard shortcut to toggle keyboard actions"}}),P=new N.V,G=function(e){var t=e.resetThreadAction,n=e.clientThreadId,r=e.features;return[{key:"newChat",action:t||f.noop,actionMessageDescriptor:I.newChat,group:i.Core,keyboardBinding:[T.Mod,T.Shift,"o"],altKeyboardBindings:[[T.Mod,"k"]]},{key:"focusPromptTextarea",action:v.go,actionMessageDescriptor:I.focusPromptTextarea,group:i.Chat,keyboardBinding:[T.Shift,T.Escape]},{key:"copyLastCodeBlock",action:function(){if(null!=n)for(var e=j.tQ.getThreadCurrentLeafId(n),t=j.tQ.getThreadConversationTurns(n,e),r=t.length-1;r>=0;r--){var i=t[r].messages.reduce(function(e,t){return null==t.err&&t.message.author.role===p.uU.Assistant&&"all"===t.message.recipient?e+(e?"\n\n":"")+(0,A.RR)(t.message):e},""),a=(0,l._)(i.matchAll(M)),s=a.length?a[a.length-1][1]:null;if(null!=s){(0,h.S)(s).then(function(){b.m.success("Copied code block to clipboard")});break}}},actionMessageDescriptor:I.copyLastCodeBlock,group:i.Chat,keyboardBinding:[T.Mod,T.Shift,";"],altKeyboardBindings:[[T.Mod,T.Shift,":"]]},{key:"copyLastResponse",action:function(){null!=n&&j.tQ.copyLastMessageToClipboard(n,"keyboard").then(function(){b.m.success("Last response copied to clipboard")})},actionMessageDescriptor:I.copyLastResponse,group:i.Chat,keyboardBinding:[T.Mod,T.Shift,"c"]},{key:"toggleCustomInstructions",action:function(){return w.vm.toggleModal(w.B.UserContext)},actionMessageDescriptor:I.toggleCustomInstructions,group:i.Settings,keyboardBinding:[T.Mod,T.Shift,"i"],enabled:r.has(y.Rw)||r.has(y.uo)},{key:"navigationToggle",action:function(){return w.vm.toggleDesktopNavCollapsed()},actionMessageDescriptor:I.navigationToggle,group:i.Core,keyboardBinding:[T.Mod,T.Shift,"s"]},{key:"deleteChat",action:function(){P.publish({kind:"deleteChat"})},actionMessageDescriptor:I.deleteChat,group:i.Chat,keyboardBinding:[T.Mod,T.Shift,T.Backspace],altKeyboardBindings:[[T.Mod,T.Shift,T.Delete]]},{key:"toggleKeyboardActions",action:function(){return w.vm.toggleModal(w.B.KeyboardActions)},actionMessageDescriptor:I.toggleKeyboardActions,group:i.Settings,keyboardBinding:[T.Mod,"/"]}]},D=function(e){var t,n,r,i=(0,k.hz)().has(y.rk);return t=function(e){d.A.logEvent(u.M.keyboardShortcut,{keyboardActionKey:e.key}),x.U.addAction("chatgpt_keyboard_shortcut",{keyboardActionKey:e.key})},n={enabled:i},r=e.map(function(e){var t=e.keyboardBinding.join("+");if(e.altKeyboardBindings){t=[t];var n=e.altKeyboardBindings.map(function(e){return e.join("+")});t=t.concat(n)}return(0,C.ZP)(t,{byKey:!0})}),void _(function(){if((null==n?void 0:n.enabled)!==!1){var i=function(n){if(!n.repeat)for(var i=0;i<r.length;i++)r[i](n)&&(void 0===e[i].enabled||e[i].enabled)&&(n.preventDefault(),t(e[i]),e[i].action())},a=function(e){void 0!==e.key&&i(e)},s=document;return s.addEventListener("keydown",a),function(){s.removeEventListener("keydown",a)}}},[e,n])},L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.resetThreadAction,n=e.clientThreadId,r=(0,k.hz)();return(0,m.useMemo)(function(){return G({features:r,resetThreadAction:t,clientThreadId:n}).filter(function(e){var t=e.enabled;return void 0===t||t})},[n,r,t])},E=function(e){D(L({resetThreadAction:e.resetThreadAction,clientThreadId:e.clientThreadId}))}}}]);